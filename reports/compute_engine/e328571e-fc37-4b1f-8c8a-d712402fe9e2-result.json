{"name": "Deletion Protection Test Case - de0360-pkce-rubix-cl-dev000", "status": "failed", "statusDetails": {"message": "AssertionError: All instances have Deletion Protection disabled: Instance(s) Names: cdp-rubix-dev-eagle-m, cdp-rubix-dev-eagle-w-0, cdp-rubix-dev-eagle-w-1, cdp-rubix-dev-m, cdp-rubix-dev-w-0, cdp-rubix-dev-w-1, cl-bastion-host", "trace": "self = <api_tests.test_rough2.TestComputeEngine object at 0x107a5f3d0>\nproject_vm_instances = [('de0360-pkce-rubix-cl-dev000', ListPager<id: \"projects/de0360-pkce-rubix-cl-dev000/zones/europe-west3-a/instances\"\ni...f_link: \"https://www.googleapis.com/compute/v1/projects/de0360-pkce-rubix-cl-uat000/zones/europe-west3-a/instances\"\n>)]\n\n    @allure.story(\"Verify deletion protection is enabled for every Compute Engine VM Resource\")\n    @pytest.mark.parametrize(\"project_vm_instances\", [(p[\"project_id\"],) for p in config[\"projects\"]], indirect=True)\n    @pytest.mark.severity(\"Medium\")\n    @allure.severity(allure.severity_level.NORMAL)\n    @pytest.mark.smoke(\"Smoke\")\n    @allure.label(\"Suite\", \"Smoke\")\n    @allure.label(\"Severity\", \"Medium\")\n    def test_deletion_protection_enabled(self, project_vm_instances):\n        for project_id, instances in project_vm_instances:\n            if not instances:\n                continue\n    \n            print(f\"Running test for Project ID: {project_id}\")\n    \n            enabled_instances = []  # Instances with deletion protection enabled\n            disabled_instances = []  # Instances with deletion protection disabled\n    \n            for instance in instances:\n                test_case_name = f\"Deletion Protection Test Case - {project_id}\"\n                allure.dynamic.title(test_case_name)\n    \n                assert_value = next(\n                    p[\"deletion_protection_assertion\"] for p in config[\"projects\"] if p[\"project_id\"] == project_id)\n                deletion_protection = instance.deletion_protection\n                assert_result = deletion_protection == assert_value\n    \n                with allure.step(f\"Check Deletion Protection for VM instance {instance.name} in project {project_id}\"):\n                    if assert_result:\n                        allure.dynamic.label(\"result\", \"passed\")\n                        print(f\"Deletion Protection is enabled for VM instance {instance.name} in project {project_id}\")\n                        enabled_instances.append(instance.name)\n                    else:\n                        allure.dynamic.label(\"result\", \"failed\")\n                        print(\n                            f\"Deletion Protection is not enabled for VM instance {instance.name} in project {project_id}\")\n                        disabled_instances.append(instance.name)\n    \n            # Generate a custom error message based on assertion results\n            if not enabled_instances:\n                failed_instances = \", \".join(disabled_instances)\n>               raise AssertionError(\nE               AssertionError: All instances have Deletion Protection disabled: Instance(s) Names: cdp-rubix-dev-eagle-m, cdp-rubix-dev-eagle-w-0, cdp-rubix-dev-eagle-w-1, cdp-rubix-dev-m, cdp-rubix-dev-w-0, cdp-rubix-dev-w-1, cl-bastion-host\n\napi_tests/test_rough2.py:233: AssertionError"}, "steps": [{"name": "Check Deletion Protection for VM instance cdp-rubix-dev-eagle-m in project de0360-pkce-rubix-cl-dev000", "status": "passed", "start": 1691140847408, "stop": 1691140847408}, {"name": "Check Deletion Protection for VM instance cdp-rubix-dev-eagle-w-0 in project de0360-pkce-rubix-cl-dev000", "status": "passed", "start": 1691140847408, "stop": 1691140847408}, {"name": "Check Deletion Protection for VM instance cdp-rubix-dev-eagle-w-1 in project de0360-pkce-rubix-cl-dev000", "status": "passed", "start": 1691140847408, "stop": 1691140847408}, {"name": "Check Deletion Protection for VM instance cdp-rubix-dev-m in project de0360-pkce-rubix-cl-dev000", "status": "passed", "start": 1691140847408, "stop": 1691140847408}, {"name": "Check Deletion Protection for VM instance cdp-rubix-dev-w-0 in project de0360-pkce-rubix-cl-dev000", "status": "passed", "start": 1691140847408, "stop": 1691140847408}, {"name": "Check Deletion Protection for VM instance cdp-rubix-dev-w-1 in project de0360-pkce-rubix-cl-dev000", "status": "passed", "start": 1691140847408, "stop": 1691140847408}, {"name": "Check Deletion Protection for VM instance cl-bastion-host in project de0360-pkce-rubix-cl-dev000", "status": "passed", "start": 1691140847408, "stop": 1691140847408}], "attachments": [{"name": "stdout", "source": "800de3e1-22ac-47f3-925e-429b852a23fd-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "project_vm_instances", "value": "('de0360-pkce-rubix-cl-uat000',)"}], "start": 1691140847407, "stop": 1691140847409, "uuid": "b0e44640-b401-4b67-b6ab-2be4c35a51a2", "historyId": "80d5a2ad4c4d563efc0e72e2c9d3c793", "testCaseId": "d68e7e5af26d3efaad523a366aaf83ed", "fullName": "api_tests.test_rough2.TestComputeEngine#test_deletion_protection_enabled", "labels": [{"name": "result", "value": "failed"}, {"name": "result", "value": "failed"}, {"name": "result", "value": "failed"}, {"name": "result", "value": "failed"}, {"name": "result", "value": "failed"}, {"name": "result", "value": "failed"}, {"name": "result", "value": "failed"}, {"name": "Suite", "value": "Smoke"}, {"name": "feature", "value": "Compute Engine"}, {"name": "severity", "value": "normal"}, {"name": "Severity", "value": "Medium"}, {"name": "story", "value": "Verify deletion protection is enabled for every Compute Engine VM Resource"}, {"name": "tag", "value": "smoke('Smoke')"}, {"name": "tag", "value": "severity('Medium')"}, {"name": "parentSuite", "value": "api_tests"}, {"name": "suite", "value": "test_rough2"}, {"name": "subSuite", "value": "TestComputeEngine"}, {"name": "host", "value": "192.168.1.11"}, {"name": "thread", "value": "24599-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "api_tests.test_rough2"}]}