{"name": "Labels Test Case - de0002-pkce-rubix-al-dev000", "status": "failed", "statusDetails": {"message": "AssertionError: Buckets missing required labels: de0002-al-dev-tfstate-0, gcs-rubix-mstr-installation-bucket, sql-backup-al-layer\nassert False\n +  where False = all([False, False, True, False])", "trace": "self = <api_tests.test_gcs.TestGCS object at 0x1072a2190>\nproject_gcs_buckets = [('de0002-pkce-rubix-al-dev000', [<Bucket: de0002-al-dev-tfstate-0>, <Bucket: gcs-rubix-mstr-installation-bucket>, <Bu...ket: cfm-test-bucket>, <Bucket: dataplex-lib-rnd>, <Bucket: dataproc-staging-europe-west3-13832234707-p9rbdbtg>, ...])]\n\n    @allure.story(\"Verify labels are attached to every GCS Bucket Resource\")\n    @pytest.mark.parametrize(\"project_gcs_buckets\", [(p[\"project_id\"],) for p in config[\"projects\"]], indirect=True)\n    @pytest.mark.severity(\"Medium\")\n    @allure.severity(allure.severity_level.NORMAL)\n    @pytest.mark.smoke(\"Smoke\")\n    @allure.label(\"Suite\", \"Smoke\")\n    @allure.label(\"Severity\", \"Medium\")\n    def test_labels_attached(self, project_gcs_buckets):\n        for project_id, buckets in project_gcs_buckets:\n            if not buckets:\n                continue\n    \n            missing_labels_buckets = []  # Buckets missing required labels\n    \n            for bucket in buckets:\n                test_case_name = f\"Labels Test Case - {project_id}\"\n                allure.dynamic.title(test_case_name)\n    \n                assert_value = next(p[\"labels_assertion\"] for p in config[\"projects\"] if p[\"project_id\"] == project_id)\n                labels = get_bucket_details(bucket)['Labels']\n                label_value = labels != \"No Label Found\"\n                assert_result = label_value == assert_value\n    \n                with allure.step(f\"Check Labels for GCS Bucket {bucket.name} in project {project_id}\"):\n                    if assert_result:\n                        allure.dynamic.label(\"result\", \"passed\")\n                        print(f\"Labels found for GCS Bucket {bucket.name} in project {project_id}\")\n                    else:\n                        allure.dynamic.label(\"result\", \"failed\")\n                        print(f\"No Labels found for GCS Bucket {bucket.name} in project {project_id}\")\n                        missing_labels_buckets.append(bucket.name)\n    \n            # Generate a title based on assertion results\n            if not missing_labels_buckets:\n                title = \"All buckets have required labels attached\"\n            else:\n                title = f\"Buckets missing required labels: {', '.join(missing_labels_buckets)}\"\n    \n            # Raise an assertion error if any bucket failed the assertion\n>           assert all([(labels != \"No Label Found\") == assert_value for labels in\n                        [get_bucket_details(bucket)['Labels'] for bucket in buckets]]), title\nE           AssertionError: Buckets missing required labels: de0002-al-dev-tfstate-0, gcs-rubix-mstr-installation-bucket, sql-backup-al-layer\nE           assert False\nE            +  where False = all([False, False, True, False])\n\napi_tests/test_gcs.py:98: AssertionError"}, "steps": [{"name": "Check Labels for GCS Bucket de0002-al-dev-tfstate-0 in project de0002-pkce-rubix-al-dev000", "status": "passed", "start": 1695025284115, "stop": 1695025284116}, {"name": "Check Labels for GCS Bucket gcs-rubix-mstr-installation-bucket in project de0002-pkce-rubix-al-dev000", "status": "passed", "start": 1695025291359, "stop": 1695025291360}, {"name": "Check Labels for GCS Bucket map-qa-testing in project de0002-pkce-rubix-al-dev000", "status": "passed", "start": 1695025296160, "stop": 1695025296161}, {"name": "Check Labels for GCS Bucket sql-backup-al-layer in project de0002-pkce-rubix-al-dev000", "status": "passed", "start": 1695025302823, "stop": 1695025302823}], "parameters": [{"name": "project_gcs_buckets", "value": "('de0002-pkce-rubix-al-dev000',)"}], "start": 1695025277775, "stop": 1695025324240, "uuid": "436aacdc-34aa-4812-8398-9e6f43a558a6", "historyId": "7c1cc4ae5caadd21a3e2f5dcccdb7594", "testCaseId": "5d62e8180c9c84891ba0f246fd64f9c4", "fullName": "api_tests.test_gcs.TestGCS#test_labels_attached", "labels": [{"name": "result", "value": "failed"}, {"name": "result", "value": "failed"}, {"name": "result", "value": "passed"}, {"name": "result", "value": "failed"}, {"name": "Suite", "value": "Smoke"}, {"name": "story", "value": "Verify labels are attached to every GCS Bucket Resource"}, {"name": "severity", "value": "normal"}, {"name": "feature", "value": "Google Cloud Storage"}, {"name": "Severity", "value": "Medium"}, {"name": "tag", "value": "smoke('Smoke')"}, {"name": "tag", "value": "severity('Medium')"}, {"name": "parentSuite", "value": "api_tests"}, {"name": "suite", "value": "test_gcs"}, {"name": "subSuite", "value": "TestGCS"}, {"name": "host", "value": "Deepaks-MacBook-Pro-16.local"}, {"name": "thread", "value": "44401-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "api_tests.test_gcs"}]}